
<div ui-view>
    <div class="controller user-box" ng-show="isLoggedIn">

        <div class="row">

            <div class="col-lg-12 col-md-12 col-sm-12" id="profile">
                <div class="row">
                    <span>
                        <h3>Welcome {{currentUser.name}}</h3>
                        <h5 ng-if="currentUser.credits>=1">
                            You have
                            <span class="badge">{{currentUser.credits}}</span>{{currentUser.credits == 1?" game credit":" game credits"}}
                        </h5>
                    </span>
                </div>
                <!-- row -->

                <div class="row">
                    <span ng-if="currentUser.credits>=1 && eta==0">

                          <h5>
                            There is nobody ahead of you!
                            <br>
                            Click <button class="btn btn-success btn-sm" ng-disabled="eta>0" ng-click="playGame(player)">Play with 1 credit</button> to start game.

                        <h5>
                            There is nobody ahead of you!
                            <br><br>
                            <button class="btn btn-success btn-sm" ng-disabled="eta>0" ng-click="playGame(currentUser)">Play</button>

                        </h5>
                    </span>
                </div>

                <div class="row">
                    <span>
                    </span>
                    <span ng-if="currentUser.credits>=1 && eta>1">
                        <h5>
                            There are <span class = "badge">{{eta}}</span> players ahead of you.
                            <br>
                            <button class="btn btn-success btn-sm" ng-disabled="currentUser.credits==0" ng-click="addPlayer(currentUser)">Join</button>the game queue.
                        </h5>
                    </span>
                    <span ng-show="currentUser.credits>=1 && eta==1">
                        <h5>
                            There is <span class = "badge">{{eta}}</span> player ahead of you.
                            <br>
                            <button class="btn btn-success btn-sm" ng-disabled="currentUser.credits==0" ng-click="addPlayer(currentUser)">Join</button> the game queue.
                        </h5>
                </span>
                    <span ng-show="eta==0">

                    </span>
                </div> <!-- row -->
            </div> <!-- col -->
        </div> <!-- row -->

        <div class="row">


  <h3>Buy credits</h3>
                <form action="/charge" method="POST">
                  <input type="hidden" name="userId" value="{{currentUser._id}}">
                  <input name = "numCredits" placeholder = "number of credits" type = "number" min="1" required>
                    <script src="https://checkout.stripe.com/checkout.js" class="stripe-button" data-key="pk_test_bE12QyEg4nE1pzUEw2OI6riK" data-name="The Claw" data-description="1 game credit = $0.99" data-image=""></script>
                </form>

            </div>

        </div>
    </div> <!-- controller -->
</div> <!-- ui-view -->
